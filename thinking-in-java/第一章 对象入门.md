### 概要

本章的目标是向大家提出面向对象编程的概念，并证明有它多么简单。本章将向大家解释java的多项设计思想，并从概念上解释面向对象的程序设计。



#### 1. 抽象的进步

Smalltalk的五大基本特征：

1. 万物皆是对象。对象可想成新型变量，它保存着数据，且可对自身进行操作。
2. 程序是对象的组合。通过消息传递，各个对象知道自己该做什么。
3. 每个对象都有自己的存储空间，可容纳其他对象。
4. 每个对象都有一种类型。每个对象都是某个类的一个实例。一个类最重要的特征是能将什么消息发给他。
5. 同一个类所有对象都能接受相同的消息。对象的可替换性。



#### 2. 对象的接口

接口定义能够对某一特定对象发出的请求。

```java
Light lt = new Light();
lt.on();
//通过简单地声明一个名字 （lt），我们为Light对象创建了一个“句柄”。
//然后用new关键字新建类型为Light的一个对象。 
//再用等号将其赋给句柄。
//为了向对象发送一条消息，我们列出句柄名（lt），再用一个句点符 号（.）把它同消息名称（on）连接起来。
```



#### 3. 实现方案的隐藏

原因：1.防止程序员接触他们不该接触的 东西——通常是内部数据类型的设计思想。

​             2.允许库设计人员修改内部结构，不用担心它会对客户程序员造 成什么影响。



Java采用三个显式（明确）关键字以及一个隐式（暗示）关键字来设置类边界：public， private，protected以及暗示性的friendly。



#### 4. 方案的重复使用

为重复使用一个类，最简单的办法是仅直接使用那个类的对象。但同时也能将那个类的一个对象置入一个新类。我们把这叫作“创建一个成员对象”。

新类可由任意数量和类型的其他对象构成。无论如何，只要新类达到了设计要求即可。这个概念叫作“组织”——在现有类的基础上 组织一个新类。有时，我们也将组织称作“包含”关系，比如“一辆车包含了一个变速箱”。

对象的组织具有极大的灵活性。新类的“成员对象”通常设为“私有”（Private），使用这个类的 客户程序员不能访问它们。



#### 5. 继承：重新使用接口

有两种做法可将新得的衍生类与原来的基础类区分开。第一种做法十分简单：为衍生类添加新函数（功能）。这些新函数并非基础类接口的一部分。进行这种处理时，一般都是意识到基础类不能满足我们的要求，所以需要添加更多的函数。这是一种最简单、最基本的继承用法，大多数时候都可完美地解决我们的问题。然而，事先还是要仔细调查自己的基础类是否 真的需要这些额外的函数。



#### 6.多形对象的互换使用

######上溯造型

通常，继承最终会以创建一系列类收场，所有类都建立在统一的接口基础上。

我们将这种把衍生类型当作它的基本 类型处理的过程叫作“Upcasting”（上溯造型）。

在面向对象的程序里，通常都要用到上溯造型技术。这是避免去调查准确类型的一个好办 法。

###### 动态绑定

将一条消息发给对象时，如果并不知道对方的具体类型是什么，但采取的行动同样是正确的，这种情况就叫作“多形性”（Polymorphism）。

对面向对象的程序设计语言来说，它们用以 实现多形性的方法叫作“动态绑定”。编译器和运行期系统会负责对所有细节的控制；我们只需 知道会发生什么事情，而且更重要的是，如何利用它帮助自己设计程序。

###### 抽象的基础类和接口

什么是抽象类？就是笼统地描述一类东西，例如动物类，就是抽象类，因为动物可以有很多种，有猫，有狗，有猴子。那抽象类怎么实现呢？用关键字abstract修饰。

抽象类主要用于被继承，继承了抽象类的子类，就必须要有抽象类所定义的抽象方法。



#### 7.对象的创建和存在

###### 对象的创建和存在时间

一种为了获得最快的运行速度，存储及存储时间，采用将对象放置在堆栈或者静态存储区域。这样为存储空间的分配和释放提供了优先级。同时这样也牺牲了灵活性。在编写程序时，必须知道对象的准确数量、存在时间及类型。

第二种方法是在内存池中动态创建对象，该内存池叫做堆。此时的存储空间管理时运行期间动态进行的，所以在内存堆里分配存储空间的时间比在堆栈创建的时间长得多。

c++允许我们决定在写程序时创建对象，还是运行期间创建对象。在堆区或者静态存储空间创建的对象，编译器会判断对象的持续时间有多长。程序员可用程序化的方式决定何时破坏对象，也可以有运行环境提供垃圾机制



###### 集合与继承器

使用一个“继续器”（Iterator），它属于一种对象，负责选择集合内的元素，并把它们 提供给继承器的用户。

所有类最终是否都 应从单独一个基础类继承。在Java中（与其他几乎所有OOP语言一样），对这个问题的答案都 是肯定的，而且这个终级基础类的名字很简单，就是一个“Object”。

一个单根结构，加上所有对象都在内存堆 中创建，可以极大简化参数的传递（这在C++里是一个复杂的概念）。 利用单根结构，我们 可以更方便地实现一个垃圾收集器。

垃圾收集器“知道”一个对象在什么时候不再使用，然后会自动释放那个对 象占据的内存空间。采用这种方式，另外加上所有对象都从单个根类Object继承的事实，而且 由于我们只能在内存堆中以一种方式创建对象，所以Java的编程要比C++的编程简单得多。



#### 8.多线程

独立运行的片断叫作“线程”（Thread），利用它编程的概念就叫作“多线程处理”。多线程处理一个常见的例子就是用户界面。利用线程，用户可按下一个按钮，然后程 序会立即作出响应，而不是让用户等待程序完成了当前任务以后才开始响应。

线程只是用于分配单个处理器的处理时间的一种工具。





